var findws={};findws.Reference=function(){var a="none",b=arguments;if(b[0]){for(a=trim(b[0]);a.indexOf("  ",0)> -1;)a=a.replace("  "," ");return{bookIndex:a=a.replace(/ /g,"_"),isValid:function(){return"none"!=a},toString:function(){return'see word study on "'+this.bookIndex+'"'},toShortUrl:function(){return"/wordstudy/"+this.bookIndex+(1==prfcommnewtab?"/ct":"/bb")}}}},function(){var a={maxNodes:500,autoStart:!0,startNodeId:"",className:"findvers_reference",ignoreClassName:"bibly_ignore",ignoreTags:["h1","h2","h3","h4","noparse"],newTagName:"A",handleLinks:function(b,c){b.setAttribute("href",c.toShortUrl()),b.setAttribute("title","Click to "+c.toString()),prfcommnewtab&&b.setAttribute("target","_blank"),b.setAttribute("rel",c.toString()),b.setAttribute("class",a.className)}},b=window,f=document,g=null,c="((word (study|studies) on )|((figure|figures) of speech )|((article|articles) on))(((, | | and |, and )?\u201C([^\u201D]+)((\\.|,|;)?\u201D))+)",h=new RegExp(c,"mi"),i=["a","script","style","textarea"],j=function(a){var c,d,b=h.exec(a.data);return b?(c=b[0],(d=a.splitText(b.index)).splitText(c.length),k(a,d)):a},k=function(e,b){if(null==b.nodeValue)return b;var c,g,f,h,d,i=b.nodeValue.indexOf("\u201D,"),j=b.nodeValue.indexOf("\u201D;"),m=b.nodeValue.indexOf("\u201D and"),n=b.nodeValue.indexOf("\u201D, and"),o=b.nodeValue.indexOf("\u201D ");return(999==(c=Math.min(i<0?999:i,j<0?999:j,m<0?999:m,n<0?999:n,o<0?999:o))&&(c=-1),c>0&&(c++,f=(g=b.splitText(c)).splitText(g.nodeValue.indexOf("\u201C"))),(b=b.splitText(b.nodeValue.indexOf("\u201C")+1)).splitText(b.nodeValue.indexOf("\u201D")),(tmp=Math.max((d=b.nodeValue).indexOf("."),d.indexOf(","),d.indexOf(";")))>0&&(b.splitText(tmp),d=b.nodeValue),void 0!==(h=l(d)))?(newNode=e.ownerDocument.createElement(a.newTagName),e.parentNode.replaceChild(newNode,b),a.handleLinks(newNode,h),newNode.appendChild(b),f&&(newNode=k(e,f)),newNode):b},l=function(b){var c=b,a=new findws.Reference(c);return null!=a&& void 0!==a.isValid&&a.isValid()?a:void 0},d=function(a){m(a.childNodes[0],1,j)},m=function(b,c,d){for(var e=0,f=new RegExp("^("+i.concat(a.ignoreTags).join("|")+")$","i");b&&c>0;){if(++e>=a.maxNodes){setTimeout(function(){m(b,c,d)},50);return}switch(b.nodeType){case 1:if(!f.test(b.tagName.toLowerCase())&&b.childNodes.length>0&&(""==a.ignoreClassName|| -1==b.className.toString().indexOf(a.ignoreClassName))){b=b.childNodes[0],c++;continue}break;case 3:case 4:b=d(b)}if(b.nextSibling)b=b.nextSibling;else for(;c>0;)if(b=b.parentNode,c--,b.nextSibling){b=b.nextSibling;break}}},n=!1,e=function(){n||(n=!0,g=(f=document).body,""!=a.startNodeId&&(node=f.getElementById(a.startNodeId)),null==node&&(node=g),d(node))};void 0!==window.findwordstudy&&(a=function(){var c,b,d,a=arguments[0]||{},e=1,f=arguments.length;for("object"!=typeof a&&"function"!=typeof a&&(a={});e<f;e++)if(null!=(c=arguments[e]))for(b in c)a[b],a!==(d=c[b])&& void 0!==d&&(a[b]=d);return a}(a,window.findwordstudy)),a.scan=e,a.scanForReferences=d,b.findwordstudy=a}()
